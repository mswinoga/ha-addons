{
  "name": "Modbus-MQTT",
  "version": "0.51",
  "slug": "modbus-mqtt",
  "description": "Integrates modbus inputs/outputs with MQTT",
  "arch": ["armhf", "armv7", "aarch64", "amd64", "i386"],
  "startup": "services",
  "boot": "auto",
  "services": ["mqtt:need"],
  "options": {
    "device": {
      "identifiers": "Wago PLC",
      "name": "Wago PLC",
      "model": "750-881",
      "manufacturer": "WAGO"
    },
    "modbus_host": "192.168.40.10",
    "modbus_port": 502,
    "entity_sets": [
      {
        "set_id": "di",
        "entity_type": "button",
        "defaults": {
          "component": null
        },
        "entity_count": 112,
        "entities": [
          {"name": "di11"},
          {"name": "di12"},
          {"name": "di13"},
          {"name": "di14"},
          {"name": "di15"},
          {"name": "di16"},
          {"name": "di17"},
          {"name": "di18"},

          {"name": "di21"},
          {"name": "di22"},
          {"name": "di23"},
          {"name": "di24"},
          {"name": "di25"},
          {"name": "di26"},
          {"name": "di27"},
          {"name": "di28"},

          {"name": "di31"},
          {"name": "di32"},
          {"name": "di33"},
          {"name": "di34"},
          {"name": "di35"},
          {"name": "di36"},
          {"name": "di37"},
          {"name": "di38"},

          {"name": "di41"},
          {"name": "di42"},
          {"name": "di43"},
          {"name": "di44"},
          {"name": "di45"},
          {"name": "di46"},
          {"name": "di47"},
          {"name": "di48"},

          {"name": "di51"},
          {"name": "di52"},
          {"name": "di53"},
          {"name": "di54"},
          {"name": "di55"},
          {"name": "di56"},
          {"name": "di57"},
          {"name": "di58"},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": "SypLaz1"},
          {"name": "SypLaz2"},
          {"name": ""},
          {"name": ""},
          {"name": "SypialniaW1"},
          {"name": "SypialniaW2"},
          {"name": "SypialniaW3"},
          {"name": "SypialniaW4"},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""}
        ],
        "data_type": "coil",
        "poll_delay_ms": 20
      },
      {
        "set_id": "meter",
        "entity_type": "sensor",
        "entity_count": 8,
        "entities": [
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""}
        ],
        "data_type": "register",
        "data_size": 2,
        "read_offset": 12320,
        "poll_delay_ms": 10000
      },
      {
        "set_id": "blind",
        "entity_type": "blind",
        "entity_count": 18,
        "entities": [
          {"name": "Gabinet_Lewa"},
          {"name": "Gabinet_Prawa"},
          {"name": "Salon_Lewa"},
          {"name": "Salon_Srodkowa"},
          {"name": "Salon_Prawa"},
          {"name": "HS_Lewa"},
          {"name": "HS_Prawa"},
          {"name": "Jadalnia_Lewa"},
          {"name": "Jadalnia_Srodkowa"},
          {"name": "Jadalnia_Prawa"},
          {"name": "Kuchnia_Lewa"},
          {"name": "Kuchnia_Prawa"},
          {"name": "Bawialnia"},
          {"name": "Dzieci"},
          {"name": "Kasia"},
          {"name": "Maciek"},
          {"name": "Sypialnia"},
          {"name": "Garderoba"}
        ],
        "data_type": "register",
        "data_size": 2,
        "read_only": false,
        "read_offset": 12544,
        "write_offset": 12544,
        "poll_delay_ms": 750
      },
      {
        "set_id": "do",
        "defaults": {
          "component": "light"
        },
        "entity_type": "relay",
        "entity_count": 64,
        "entities": [
          {"name": "Salon_gorne"},
          {"name": ""},
          {"name": ""},
          {"name": "Jadalnia_stol"},
          {"name": "Jadalnia_gorne"},
          {"name": "Garaz_A"},
          {"name": "Garaz_B"},
          {"name": ""},

          {"name": "Komunikacja_parter"},
          {"name": "Gabinet_A"},
          {"name": ""},
          {"name": "Kuchnia_wyspa"},
          {"name": "Kuchnia_okno"},
          {"name": "Kuchnia_szafki"},
          {"name": ""},
          {"name": ""},

          {"name": "Dzieci_A"},
          {"name": ""},
          {"name": "Bawialnia_A"},
          {"name": ""},
          {"name": "Kasia_A"},
          {"name": "Kasia_B"},
          {"name": "Maciek_A"},
          {"name": "Maciek_B"},

          {"name": ""},
          {"name": ""},
          {"name": "Sypialnia_A"},
          {"name": "Sypialnia_B"},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": "Wiatrolap"},
          {"name": "Lazienka1_gora"},
          {"name": "Lazienka1_lustro"},
          {"name": ""},
          {"name": "LazienkaS_gora"},
          {"name": "LazienkaS_lustro"},
          {"name": "Garderoba"},
          {"name": ""},

          {"name": "Lazienka0"},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},

          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""},
          {"name": ""}
        ],
        "data_type": "coil",
        "read_only": false,
        "read_offset": 12288,
        "write_offset": 12288,
        "poll_delay_ms": 750
      }
    ]
  },
  "schema": {
    "modbus_host": "str",
    "modbus_port": "int",
    "entity_sets": [
      {
        "set_id": "str",
        "entity_type": "str",
        "defaults": {
          "component": "str?",
          "device_class": "str?",
          "unit_of_measurement": "str?"
        },
        "entities": [
          {
            "name": "str",
            "component": "str?",
            "device_class": "str?",
            "unit_of_measurement": "str?"
          }
        ],
        "entity_count": "int?",
        "data_type": "str",
        "data_size": "int?",
        "read_only": "bool?",
        "read_offset": "int?",
        "write_offset": "int?",
        "poll_delay_ms": "int?"
      }
    ]
  }
}
